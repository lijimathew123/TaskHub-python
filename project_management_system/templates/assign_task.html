{% extends 'base.html' %}
<!DOCTYPE html>
<html>
<head>
    <title>Assign Task</title>
</head>
<body>
    {% block content %}

    {% include 'inner_header.html' %}

    <div style="text-align: center;">
        <h2 class="mt-5 mb-4 fw-400">Assign Task</h2>
        <form method="POST" style="display: inline-block; max-width: 400px; padding: 20px; border: 1px solid #ccc; border-radius: 10px; background-color: #f2f2f2;">
            {% csrf_token %}

            <label for="group" style="display: block; margin-bottom: 10px;">Assigned Project:</label>
            <select id="group" name="group" required style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px;">
                {% for group in groups %}
                    <option value="{{ group.id }}">{{ group.name }}</option>
                {% endfor %}
            </select>

            <label for="task_title" style="display: block; margin-top: 20px; margin-bottom: 10px;">Task Title:</label>
            <input type="text" id="task_title" name="title" required style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px;">

            <label for="description" style="display: block; margin-top: 20px; margin-bottom: 10px;">Description:</label>
            <textarea id="description" name="description" required style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px;"></textarea>

            <label for="due_date" style="display: block; margin-top: 20px; margin-bottom: 10px;">Due date:</label>
            <input type="date" id="due_date" name="due_date" required style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px;">

            <label for="priority" style="display: block; margin-top: 20px; margin-bottom: 10px;">Priority:</label>
            <select id="priority" name="priority" required style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px;">
                <option value="High">High</option>
                <option value="Medium">Medium</option>
                <option value="Low">Low</option>
            </select>

            <label for="status" style="display: block; margin-top: 20px; margin-bottom: 10px;">Status:</label>
            <select id="status" name="status" required style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px;">
                {% for choice in form.status.field.choices %}
                    <option value="{{ choice.0 }}">{{ choice.1 }}</option>
                {% endfor %}
            </select>

            <label for="assigned_developer" style="display: block; margin-top: 20px; margin-bottom: 10px;">Assigned Developer:</label>
            <select id="assigned_developer" name="assigned_to" required style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px;">
                {% for developer in developers %}
                    <option value="{{ developer.id }}">{{ developer.name }} ({{ developer.domain }}) ({{ developer.technologies_used }})</option>
                {% endfor %}
            </select>

            <button type="submit" style="background-color: #4CAF50; color: #fff; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin-top: 20px;">Assign Task</button>
        </form>
    </div>

    <a href="javascript:history.back()" class="btn btn-secondary mt-3" style="display: inline-block; color: #333; text-decoration: none; padding: 10px 20px; border: 1px solid #ccc; border-radius: 5px; margin-top: 20px;">Back</a>

    {% endblock %}
</body>
</html>
